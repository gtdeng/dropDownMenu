<!doctype html>
<!--[if lt IE 8]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9 oldie" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Dropdown Menu</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="dropdown_menu.css">
</head>

<body>
  <HEADER id="nav"></HEADER>
  <script src="dropdown_menu.js"></script>
  <script>
  (function() {
    console.log("this", MENU);

    function makeUL(array, level) {
      var ul = document.createElement("ul");

      array.forEach(function(current) {
        var li = document.createElement("li");
        var aTag = document.createElement("a");

        aTag.setAttribute("href", "#");
        aTag.innerText = current.title;

        li.appendChild(aTag);
        li.className = "menu-item-" + level;

        if (current.submenu) {
          li.appendChild(makeUL(current.submenu, level + 1));
        }

        ul.appendChild(li);
      });

      return ul;
    }

    document.getElementById("nav").appendChild(makeUL(MENU, 0));

    window.onclick = function(event) {
      var value = event.target.firstChild.nodeValue;
      if (value) {
        alert(event.target.firstChild.nodeValue);
      }
    }
  })();
  </script>
</body>

</html>
